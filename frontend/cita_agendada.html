<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cita Confirmada - SithCare</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root{
      --bg-1:#0b1020; --bg-2:#111832; --card:rgba(12,16,34,.65);
      --text:#eef2ff; --muted:#9aa3c7; --brand:#6b8bff; --brand-2:#8aa0ff;
      --border:rgba(226,232,240,.14); --ring:rgba(107,139,255,.45);
      --shadow:0 12px 36px rgba(0,0,0,.5);
      --ok:#22c55e; --ok-2:#16a34a;
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg-1:#eef3ff; --bg-2:#f7f9ff; --card:rgba(255,255,255,.9);
        --text:#0f172a; --muted:#475569; --brand:#2e5bff; --brand-2:#6b7bff;
        --border:rgba(30,41,59,.12); --ring:rgba(46,91,255,.35);
        --shadow:0 12px 36px rgba(31,38,135,.18);
        --ok:#16a34a; --ok-2:#15803d;
      }
    }

    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      display:grid; place-items:center; padding:24px;
      background:
        radial-gradient(1000px 700px at 12% 8%, var(--bg-2) 0%, transparent 60%),
        radial-gradient(1000px 700px at 88% 92%, var(--bg-2) 0%, transparent 60%),
        linear-gradient(160deg, var(--bg-1) 0%, var(--bg-2) 100%);
    }

    .wrap{
      width:min(96vw, 720px);
      background:var(--card); backdrop-filter: blur(10px);
      border:1px solid var(--border); border-radius:24px;
      box-shadow:var(--shadow); padding:28px 24px;
    }

    .topbar{
      display:flex; align-items:center; justify-content:space-between; margin-bottom:10px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:800; letter-spacing:.2px;
    }
    .brand .dot{ width:10px; height:10px; border-radius:999px; background:linear-gradient(180deg,var(--brand),var(--brand-2)); }

    .actions a{
      color:var(--text); text-decoration:none; margin-left:12px;
      border:1px solid var(--border); padding:.45rem .7rem; border-radius:12px;
      background:rgba(255,255,255,.05);
    }
    .actions a:hover{ box-shadow:0 0 0 .25rem var(--ring); }

    .content{
      display:flex; flex-direction:column; align-items:center; text-align:center; padding:10px 8px 0;
    }

    .check-wrap{
      display:grid; place-items:center; width:92px; height:92px; border-radius:999px;
      background:linear-gradient(180deg,var(--ok),var(--ok-2));
      box-shadow:0 12px 28px rgba(34,197,94,.25);
      margin:6px 0 14px;
    }
    .check-wrap i{ color:#fff; font-size:46px; }

    h1{ font-size:1.6rem; font-weight:800; margin:0 0 6px; }
    .subtle{ color:var(--muted); }

    .details{
      border:1px solid var(--border); border-radius:16px;
      background:rgba(255,255,255,.04); padding:16px; margin-top:18px; width:100%;
    }
    .details .row + .row{ margin-top:8px; }
    .label{ color:var(--muted); font-weight:600; }
    .value{ font-weight:700; }

    .btn-row{
      display:flex; gap:10px; justify-content:center; margin-top:18px;
    }
    .btn-primary{
      background:linear-gradient(180deg,var(--brand),var(--brand-2)); border:none;
      font-weight:700; border-radius:12px; padding:.8rem 1rem;
      box-shadow:0 12px 28px rgba(46,91,255,.25);
    }
    .btn-primary:focus{ box-shadow:0 0 0 .35rem var(--ring); }
    .btn-ghost{
      background:transparent; color:var(--brand); border:1px solid var(--brand);
      border-radius:12px; font-weight:600; padding:.8rem 1rem;
    }
  </style>
</head>
<body>

  <main class="wrap">
    <!-- Top bar con accesos -->
    <div class="topbar">
      <div class="brand">
        <span class="dot"></span>
        <span>Cita confirmada</span>
      </div>
      <div class="actions">
        <a href="/" title="Inicio"><i class="fas fa-home"></i></a>
        <a href="/perfil_usuario/" title="Perfil"><i class="fas fa-user"></i></a>
      </div>
    </div>

    <div class="content">
      <div class="check-wrap">
        <i class="fas fa-check"></i>
      </div>
      <h1>¡Tu cita ha sido agendada con éxito!</h1>
      <div class="subtle">Te enviamos el detalle a continuación. Guarda esta información.</div>

      <div class="details">
        <div class="row">
          <div class="col-12 col-md-6 text-md-end label">Hora</div>
          <div class="col-12 col-md-6 text-md-start value" id="horaAgendada"></div>
        </div>
        <div class="row">
          <div class="col-12 col-md-6 text-md-end label">Fecha</div>
          <div class="col-12 col-md-6 text-md-start value" id="fechaAgendada"></div>
        </div>
        <div class="row" id="rowMotivo" style="display:none;">
          <div class="col-12 col-md-6 text-md-end label">Motivo</div>
          <div class="col-12 col-md-6 text-md-start value" id="motivoAgendado"></div>
        </div>
      </div>

      <div class="btn-row">
        <a class="btn btn-ghost" href="/agendamiento/">Agendar otra</a>
        <a class="btn btn-primary" href="/perfil_usuario/">Ver mi perfil</a>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const fecha = localStorage.getItem('fechaCita');
      const hora  = localStorage.getItem('horaCita');
      const motivo = localStorage.getItem('motivoCita'); // si lo guardaste en el paso anterior

      const fechaElem  = document.getElementById('fechaAgendada');
      const horaElem   = document.getElementById('horaAgendada');
      const motivoElem = document.getElementById('motivoAgendado');
      const rowMotivo  = document.getElementById('rowMotivo');

      if (!fecha || !hora) {
        fechaElem.innerText = "Fecha no disponible";
        horaElem.innerText  = "Hora no disponible";
      } else {
        const [year, month, day] = fecha.split('-');
        const fechaObjeto = new Date(year, month - 1, day);
        if (isNaN(fechaObjeto)) {
          fechaElem.innerText = "Fecha inválida";
          horaElem.innerText  = "Hora inválida";
        } else {
          const opciones = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
          const fechaFormateada = fechaObjeto.toLocaleDateString('es-CL', opciones);
          fechaElem.innerText = fechaFormateada;
          horaElem.innerText  = hora;
        }
      }

      if (motivo && motivo.trim().length > 0) {
        motivoElem.textContent = motivo;
        rowMotivo.style.display = '';
      }
    });
  </script>
</body>
</html>